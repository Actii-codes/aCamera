/*

 Lens is free software, available under the terms of a MIT style License.

 Copyright (c) 2022 Evitca Studio

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 This software cannot be sold by itself. It must be used in a project and the project itself can be sold. In the case it is not, you the "user" of this software are breaking the license and agreeing to forfeit its usage.

 Neither the name EvitcaStudio or "Lens" nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
*/
'use strict';(()=>{const p=setInterval(()=>{VYLO.Client&&(clearInterval(p),"object"!==typeof VYLO.Client.mapView.scale&&(VYLO.Client.mapView.scale={x:VYLO.Client.mapView.scale,y:VYLO.Client.mapView.scale}),VYLO.Client.mapView.anchor={x:.5,y:.5},VYLO.Client.setMapView(VYLO.Client.mapView),q())}),m=VYLO.World.getTileSize(),k="linear easeInQuad easeOutQuad easeInOutQuad easeInSine easeOutSine easeInOutSine easeInExpo easeOutExpo easeInOutExpo easeInCirc easeOutCirc easeInOutCirc easeInCubic easeOutCubic easeInOutCubic easeInQuart easeOutQuart easeInOutQuart easeInQuint easeOutQuint easeInOutQuint easeInElastic easeOutElastic easeInOutElastic easeInBack easeOutBack easeInOutBack easeInBounce easeOutBounce easeInOutBounce".split(" "),
r=e=>{VYLO.global.Lens=e;window.Lens=e;e.version="v1.0.0";e.cachedResourcesInfo={};e.init=!0;e.attached=!1;e.isMoving=!1;e.isZooming=!1;e.isSpectating=!1;e.isShaking=!1;e.isScrolling=!1;e.isPanning=!1;const f=VYLO.newDiob();f.__proto__.constructor.prototype.getTrueCenterPos||(f.__proto__.constructor.prototype.getTrueCenterPos=function(){const a=VYLO.World.getTileSize();return{x:Math.round(this.x+(this.aIconInfo?this.aIconInfo.halfWidth:a.width)+this.xIconOffset),y:Math.round(this.y+(this.aIconInfo?
this.aIconInfo.halfHeight:a.height)+this.yIconOffset)}});VYLO.delDiob(f);EListener.on(VYLO.Client,"onScreenRender",function(a){if(e.init){if(!(this.___EVITCA_aPause&&aPause&&aPause.paused)){e.settings.loop.lastTime||(e.settings.loop.lastTime=a);var b=a-e.settings.loop.lastTime;e.settings.loop.elapsedMS=b;e.settings.loop.deltaTime=b/1E3;this.___EVITCA_aParallax&&e.attached&&this.aParallax.update(e.following.getTrueCenterPos().x-e.oldPos.x,e.following.getTrueCenterPos().y-e.oldPos.y);e.update(e.settings.loop.elapsedMS,
e.settings.loop.deltaTime)}e.settings.loop.lastTime=a}});VYLO.Client.attachCamera=function(a){e.settings.zoom.currentLevel.x=this.mapView.scale.x;e.settings.zoom.currentLevel.y=this.mapView.scale.y;e.assignIconSize(this.mob);e.following=this.mob;e.setPos(this.mob.getTrueCenterPos().x,this.mob.getTrueCenterPos().y,this.mob.mapName);e.oldPos.x=e.xPos;e.oldPos.y=e.yPos;e.attached=!0;a?"object"===typeof a&&a.constructor===Object?(a.duration?"object"===typeof a.duration&&a.duration.constructor===Object?
"number"===typeof a.duration.x&&"number"===typeof a.duration.y?(e.settings.custom.duration.x=a.duration.x,e.settings.custom.duration.y=a.duration.y):(e.settings.custom.duration.x=e.settings.custom.duration.y=1E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.duration.x || pSettings.duration.y","font-weight: bold","property. Reverted to default")):typeof("number"===a.duration)?e.settings.custom.duration.x=e.settings.custom.duration.y=a.duration:(e.settings.custom.duration.x=
e.settings.custom.duration.y=1E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.duration","font-weight: bold","property. Reverted to default")):(e.settings.custom.duration.x=e.settings.custom.duration.y=1E3,this.debugging&&console.warn("Lens: No %cpSettings.duration","font-weight: bold","parameter passed. Reverted to default")),a.ease?"object"===typeof a.ease&&a.ease.constructor===Object?"string"===typeof a.ease.x&&"string"===typeof a.ease.y?k.includes(a.ease.x)&&
k.includes(a.ease.y)?(e.settings.custom.ease.x=a.ease.x,e.settings.custom.ease.y=a.ease.y):(e.settings.custom.ease.x=e.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid %cease","font-weight: bold","name passed for pSettings.ease.x || pSettings.ease.y. Reverted to default")):(e.settings.custom.ease.x=e.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.ease.x || pSettings.ease.y","font-weight: bold",
"property. Reverted to default")):typeof("string"===a.ease)?k.includes(a.ease)?e.settings.custom.ease.x=e.settings.custom.ease.y=a.ease:(e.settings.custom.ease.x=e.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid %cease","font-weight: bold","name passed for pSettings.ease. Reverted to default")):(e.settings.custom.ease.x=e.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.ease","font-weight: bold",
"property. Reverted to default")):(e.settings.custom.ease.x=e.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: No %cpSettings.ease","font-weight: bold","parameter passed. Reverted to default")),e.reset("standard"),e.custom=!0,this.following=this.mob,e.settings.custom.initialPos.x=e.xPos,e.settings.custom.initialPos.y=e.yPos):(e.reset("custom"),e.custom=!1,e.following=this.mob,e.settings.standard.initialPos.x=e.xPos,e.settings.standard.initialPos.y=e.yPos,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings",
"font-weight: bold","parameter. Reverted to default")):(e.reset("custom"),e.custom=!1,e.following=this.mob,e.settings.standard.initialPos.x=e.xPos,e.settings.standard.initialPos.y=e.yPos);e.oldFollowingPos={x:e.following.xPos+e.following.xIconOffset,y:e.following.yPos+e.following.yIconOffset};this.setViewEye(e)}},q=()=>{const e={linear:function(a,b,c,d){return c*a/d+b},easeInQuad:function(a,b,c,d){return c*(a/=d)*a+b},easeOutQuad:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},easeInOutQuad:function(a,
b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},easeInSine:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},easeOutSine:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},easeInOutSine:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},easeInExpo:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeInOutExpo:function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+
b:c/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},easeOutCirc:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},easeInOutCirc:function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInCubic:function(a,b,c,d){return c*(a/=d)*a*a+b},easeOutCubic:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},easeInOutCubic:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},easeInQuart:function(a,
b,c,d){return c*(a/=d)*a*a*a+b},easeOutQuart:function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b},easeInOutQuart:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},easeOutQuint:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},easeInOutQuint:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},easeInElastic:function(a,b,c,d){var g=0,h=c;if(0==a)return b;if(1==(a/=d))return b+c;g||(g=.3*d);h<Math.abs(c)?
(h=c,c=g/4):c=g/(2*Math.PI)*Math.asin(c/h);return-(h*Math.pow(2,10*--a)*Math.sin(2*(a*d-c)*Math.PI/g))+b},easeOutElastic:function(a,b,c,d){var g=0,h=c;if(0==a)return b;if(1==(a/=d))return b+c;g||(g=.3*d);if(h<Math.abs(c)){h=c;var l=g/4}else l=g/(2*Math.PI)*Math.asin(c/h);return h*Math.pow(2,-10*a)*Math.sin(2*(a*d-l)*Math.PI/g)+c+b},easeInOutElastic:function(a,b,c,d){var g=0,h=c;if(0==a)return b;if(2==(a/=d/2))return b+c;g||(g=.3*d*1.5);if(h<Math.abs(c)){h=c;var l=g/4}else l=g/(2*Math.PI)*Math.asin(c/
h);return 1>a?-.5*h*Math.pow(2,10*--a)*Math.sin(2*(a*d-l)*Math.PI/g)+b:h*Math.pow(2,-10*--a)*Math.sin(2*(a*d-l)*Math.PI/g)*.5+c+b},easeInBack:function(a,b,c,d){return c*(a/=d)*a*(2.70158*a-1.70158)+b},easeOutBack:function(a,b,c,d){return c*((a=a/d-1)*a*(2.70158*a+1.70158)+1)+b},easeInOutBack:function(a,b,c,d){var g=1.70158;return 1>(a/=d/2)?c/2*a*a*(((g*=1.525)+1)*a-g)+b:c/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b},easeInBounce:function(a,b,c,d){return c-this.easeOutBounce(d-a,0,c,d)+b},easeOutBounce:function(a,
b,c,d){a/=d;if(a<1/2.75)return 7.5625*c*a*a+b;if(a<2/2.75)return a-=1.5/2.75,c*(7.5625*a*a+.75)+b;if(a<2.5/2.75)return a-=2.25/2.75,c*(7.5625*a*a+.9375)+b;a-=2.625/2.75;return c*(7.5625*a*a+.984375)+b},easeInOutBounce:function(a,b,c,d){return a<.5*d?.5*this.easeInBounce(2*a,0,c,d)+b:.5*this.easeOutBounce(2*a-d,0,c,d)+.5*c+b}},f=VYLO.newDiob();f.atlasName="";f.width=1;f.height=1;f.color={tint:16738740};f.mouseOpacity=0;f.touchOpacity=0;f.density=0;f.plane=1;f.layer=999999;f.invisibility=999999;f.custom=
!1;f.owner=VYLO.Client;f.following=null;f.debugging=!1;f.preventScreenRelayer=!0;f.preventInterpolation=!0;f.ONE=1;f.TWO=2;f.THREE=3;f.FOUR=4;f.FIVE=5;f.SIX=6;f.oldPos={x:0,y:0};f.oldFollowingPos={x:0,y:0};f.settings={zoom:{active:{x:!1,y:!1},time:{x:0,y:0},duration:{x:1E3,y:1E3},initialLevel:{x:null,y:null},currentLevel:{x:null,y:null},destinationLevel:{x:null,y:null},differenceLevel:{x:null,y:null},ease:{x:"easeOutCubic",y:"easeOutCubic"},callback:null},shake:{active:{x:!1,y:!1},time:{x:0,y:0},
duration:{x:1E3,y:1E3},intensity:{x:1,y:1},rotational:!1,concurrentShaking:[],callback:null},pan:{active:{x:!1,y:!1},time:{x:0,y:0,z:0},destination:{x:null,y:null},ease:{x:"easeOutCubic",y:"easeOutCubic"},duration:{x:1E3,y:1E3},target:null,storedDir:null,returning:null,forceDirChange:!0,pauseDuration:0,attach:!1,initialPos:{x:null,y:null},finalDuration:{x:1E3,y:1E3},finalEase:{x:"easeOutCubic",y:"easeOutCubic"},pannedCallback:null,finalCallback:null},scroll:{active:!1,time:0,duration:null,ease:null},
standard:{active:{x:!1,y:!1},time:{x:0,y:0},duration:{x:1E3,y:1E3},destination:{x:null,y:null},initialPos:{x:null,y:null},ease:{x:"easeOutCubic",y:"easeOutCubic"}},custom:{active:{x:!1,y:!1},time:{x:0,y:0},duration:{x:1E3,y:1E3},destination:{x:null,y:null},initialPos:{x:null,y:null},ease:{x:"easeOutCubic",y:"easeOutCubic"}},spectate:{forcePos:!0,preventMovement:!0,player:null},loop:{lastTime:0,deltaTime:0,elapsedMS:0},zooming:!1,panning:!1,scrolling:!1,spectating:!1,shaking:!1};f.decimalRand=function(a,
b,c=1){a=Number((Math.random()*(a-b)+b).toFixed(c));return 1<=a?Math.floor(a):a};f.assignIconSize=function(a){if(!a.aIconInfo){var b=(a.atlasName+"_"+(a.iconName?a.iconName:"")+"_"+(a.iconState?a.iconState:"")).trim();a.aIconInfo={};this.cachedResourcesInfo[b]?a.aIconInfo=JSON.parse(JSON.stringify(this.cachedResourcesInfo[b])):(a.aIconInfo.width=Math.round(m.width),a.aIconInfo.height=Math.round(m.height),a.aIconInfo.halfWidth=Math.round(m.width/2),a.aIconInfo.halfHeight=Math.round(m.height/2));var c=
function(){const d=VYLO.Icon.getIconSize(a.atlasName,a.iconName);this.cachedResourcesInfo[b]={width:Math.round(d.width),height:Math.round(d.height),halfWidth:Math.round(d.width/2),halfHeight:Math.round(d.height/2)};a.aIconInfo.width=this.cachedResourcesInfo[b].width;a.aIconInfo.height=this.cachedResourcesInfo[b].height;a.aIconInfo.halfWidth=this.cachedResourcesInfo[b].halfWidth;a.aIconInfo.halfHeight=this.cachedResourcesInfo[b].halfHeight};a.atlasName?VYLO.Resource.loadResource("icon",a.atlasName,
c.bind(this)):console.warn("Lens: No %cpDiob.atlasName","font-weight: bold","to load.")}};f.reset=function(a){switch(a){case "zoomX":this.settings.zoom.active.x=!1;this.settings.zoom.time.x=0;this.settings.zoom.ease.x="easeOutCirc";break;case "zoomY":this.settings.zoom.active.y=!1;this.settings.zoom.time.y=0;this.settings.zoom.ease.y="easeOutCirc";break;case "zoom":this.settings.zoom.callback=null;this.settings.zoom.time.x=this.settings.zoom.time.y=0;this.settings.zoom.active.x=this.settings.zoom.active.y=
!1;this.settings.zoom.initialLevel.x=this.settings.zoom.initialLevel.y=null;this.settings.zoom.destinationLevel.x=this.settings.zoom.destinationLevel.y=null;this.settings.zoom.differenceLevel.x=this.settings.zoom.differenceLevel.y=null;this.settings.zoom.duration.x=this.settings.zoom.duration.y=null;this.settings.zoom.ease.x=this.settings.zoom.ease.y=null;this.isZooming=this.settings.zooming=!1;break;case "panX":this.settings.pan.active.x=!1;this.settings.pan.time.x=0;break;case "panY":this.settings.pan.active.y=
!1;this.settings.pan.time.y=0;break;case "pan":this.settings.pan.returning=!1;this.settings.pan.attach=!1;this.settings.pan.forceDirChange=!0;this.settings.pan.target=null;this.settings.pan.storedDir=null;this.settings.pan.pannedCallback=null;this.settings.pan.finalCallback=null;this.settings.pan.pauseDuration=0;this.settings.pan.time.x=this.settings.pan.time.y=0;this.settings.pan.initialPos.x=this.settings.pan.initialPos.y=null;this.settings.pan.finalDuration.x=this.settings.pan.finalDuration.y=
null;this.settings.pan.ease.x=this.settings.pan.ease.y=null;this.settings.pan.finalEase.x=this.settings.pan.finalEase.y=null;this.settings.pan.active.x=this.settings.pan.active.y=!1;this.settings.pan.duration.x=this.settings.pan.duration.y=null;this.settings.pan.destination.x=this.settings.pan.destination.y=null;this.isPanning=this.settings.panning=!1;break;case "standardX":this.settings.standard.active.x=!1;this.settings.standard.time.x=0;this.settings.standard.initialPos.x=this.xPos;break;case "standardY":this.settings.standard.active.y=
!1;this.settings.standard.time.y=0;this.settings.standard.initialPos.y=this.yPos;break;case "standard":this.settings.standard.active.x=this.settings.standard.active.y=!1;this.settings.standard.time.x=this.settings.standard.time.y=0;this.settings.standard.initialPos.x=this.xPos;this.settings.standard.initialPos.y=this.yPos;this.isMoving=!1;break;case "customX":this.settings.custom.active.x=!1;this.settings.custom.time.x=0;this.settings.custom.initialPos.x=this.xPos;break;case "customY":this.settings.custom.active.y=
!1;this.settings.custom.time.y=0;this.settings.custom.initialPos.y=this.yPos;break;case "custom":this.settings.custom.active.x=this.settings.custom.active.y=!1;this.settings.custom.time.x=this.settings.custom.time.y=0;this.settings.custom.initialPos.x=this.xPos;this.settings.custom.initialPos.y=this.yPos;this.isMoving=!1;break;case "scroll":this.settings.scrolling=!1;break;case "shakeX":this.settings.shake.time.x=0;this.settings.shake.active.x=!1;VYLO.Client.setViewEyeOffsets(0,VYLO.Client.getViewEyeOffsets().y);
break;case "shakeY":this.settings.shake.time.y=0;this.settings.shake.active.y=!1;VYLO.Client.setViewEyeOffsets(VYLO.Client.getViewEyeOffsets().x,0);break;case "shake":this.settings.shake.callback=null;this.settings.shake.rotational=!1;this.settings.shake.time.x=this.settings.shake.time.y=0;this.settings.shake.active.x=this.settings.shake.active.y=!1;this.settings.shake.duration.x=this.settings.shake.duration.y=0;this.settings.shake.intensity.x=this.settings.shake.intensity.y=0;VYLO.Client.setViewEyeOffsets(0,
0);VYLO.Client.mapView.angle=0;VYLO.Client.setMapView(VYLO.Client.mapView);this.isShaking=!1;break;case "spectate":this.settings.spectate.player=null,this.settings.spectate.forcePos=!1,this.settings.spectate.preventMovement=!1,this.isSpectating=this.settings.spectating=!1}};f.zoomUpdate=function(a,b){this.settings.zoom.active.x&&(this.settings.zoom.time.x=Math.min(this.settings.zoom.time.x+a,this.settings.zoom.duration.x),this.settings.zoom.currentLevel.x=e[this.settings.zoom.ease.x](this.settings.zoom.time.x,
this.settings.zoom.initialLevel.x,this.settings.zoom.differenceLevel.x,this.settings.zoom.duration.x),VYLO.Client.mapView.scale.x+=this.settings.zoom.currentLevel.x-VYLO.Client.mapView.scale.x);this.settings.zoom.active.y&&(this.settings.zoom.time.y=Math.min(this.settings.zoom.time.y+a,this.settings.zoom.duration.y),this.settings.zoom.currentLevel.y=e[this.settings.zoom.ease.y](this.settings.zoom.time.y,this.settings.zoom.initialLevel.y,this.settings.zoom.differenceLevel.y,this.settings.zoom.duration.y),
VYLO.Client.mapView.scale.y+=this.settings.zoom.currentLevel.y-VYLO.Client.mapView.scale.y);VYLO.Client.setMapView(VYLO.Client.mapView);this.settings.zoom.time.x===this.settings.zoom.duration.x&&this.reset("zoomX");this.settings.zoom.time.y===this.settings.zoom.duration.y&&this.reset("zoomY");if(!this.settings.zoom.active.x&&!this.settings.zoom.active.y)this.onZoomEnd()};f.shakeUpdate=function(a,b){if(this.settings.shake.rotational){let g,h;this.settings.shake.active.x&&this.settings.shake.active.y?
(g=this.settings.shake.intensity.x,h=this.settings.shake.intensity.y):this.settings.shake.active.x?(g=this.settings.shake.intensity.x,h=.5*g):this.settings.shake.active.y&&(g=this.settings.shake.intensity.y,h=.5*g);b=this.decimalRand(-this.decimalRand(g,h)/200,this.decimalRand(g,h)/200);VYLO.Client.mapView.angle=b;VYLO.Client.setMapView(VYLO.Client.mapView)}if(this.settings.shake.active.x){var c=this.settings.shake.intensity.x;b=.5*c;c=this.decimalRand(-this.decimalRand(c,b),this.decimalRand(c,b));
this.settings.shake.time.x=Math.min(this.settings.shake.time.x+a,this.settings.shake.duration.x)}if(this.settings.shake.active.y){var d=this.settings.shake.intensity.y;b=.5*d;d=this.decimalRand(-this.decimalRand(d,b),this.decimalRand(d,b));this.settings.shake.time.y=Math.min(this.settings.shake.time.y+a,this.settings.shake.duration.y)}VYLO.Client.setViewEyeOffsets(c?c:0,d?d:0);this.settings.shake.time.x===this.settings.shake.duration.x&&this.reset("shakeX");this.settings.shake.time.y===this.settings.shake.duration.y&&
this.reset("shakeY");if(!this.settings.shake.active.x&&!this.settings.shake.active.y)this.onShakeEnd()};f.pan=function(a){if(this.settings.panning&&!this.settings.pan.returning)console.error("Lens: You are already %cpanning","font-weight: bold",". Pan failed");else if(this.settings.spectating)console.error("Lens: You are %cspectating","font-weight: bold","and cannot pan right now. Pan failed");else{if("object"===typeof a&&a.constructor===Object)if(Object.keys(a).includes("target")){if("object"===
typeof a.target&&a.target.constructor===Diob)if("number"===typeof a.target.xPos&&"number"===typeof a.target.yPos&&"string"===typeof a.target.mapName){if(a.target===this.following){console.error("Lens: You %ccannot","font-weight: bold","pan to yourself. Pan failed");return}this.assignIconSize(a.target);this.settings.pan.target=a.target}else{console.error("Lens: Invalid variable type passed for the %cpSettings.target.xPos || pSettings.target.yPos || *pSettings.target.mapName","font-weight: bold","parameter. Pan failed");
return}else{console.error("Lens: Invalid variable type passed for the %cpSettings.target","font-weight: bold","property. Pan failed");return}a.ease?"object"===typeof a.ease&&a.ease.constructor===Object?"string"===typeof a.ease.x&&"string"===typeof a.ease.y?k.includes(a.ease.x)&&k.includes(a.ease.y)?(this.settings.pan.ease.x=a.ease.x,this.settings.pan.ease.y=a.ease.y):(this.settings.pan.ease.x=this.settings.pan.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid %cease","font-weight: bold",
"name passed for pSettings.ease.x || pSettings.ease.y. Reverted to default")):(this.settings.pan.ease.x=this.settings.pan.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.ease.x || pSettings.ease.y","font-weight: bold","parameter. Reverted to default")):"string"===typeof a.ease?k.includes(a.ease)?this.settings.pan.ease.x=this.settings.pan.ease.y=a.ease:(this.settings.pan.ease.x=this.settings.pan.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid %cease",
"font-weight: bold","name passed for pSettings.ease.x || pSettings.ease.y. Reverted to default")):(this.settings.pan.ease.x=this.settings.pan.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.ease","font-weight: bold","property. Reverted to default")):(this.settings.pan.ease.x=this.settings.pan.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: No %cease","font-weight: bold","property included inside of the pSettings parameter. Reverted to default"));
a.finalEase?"object"===typeof a.finalEase&&a.finalEase.constructor===Object?"string"===typeof a.finalEase.x&&"string"===typeof a.finalEase.y?k.includes(a.finalEase.x)&&k.includes(a.finalEase.y)?(this.settings.pan.finalEase.x=a.finalEase.x,this.settings.pan.finalEase.y=a.finalEase.y):(this.settings.pan.finalEase.x=this.settings.pan.finalEase.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid %cease","font-weight: bold","name passed for pSettings.finalEase.x || pSettings.finalEase.y. Reverted to default")):
(this.settings.pan.finalEase.x=this.settings.pan.finalEase.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.finalEase.x || pSettings.finalEase.y","font-weight: bold","parameter. Reverted to default")):"string"===typeof a.finalEase?k.includes(a.finalEase)?this.settings.pan.finalEase.x=this.settings.pan.finalEase.y=a.finalEase:(this.settings.pan.finalEase.x=this.settings.pan.finalEase.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid %cease",
"font-weight: bold","name passed for pSettings.finalEase.x || pSettings.finalEase.y. Reverted to default")):(this.settings.pan.finalEase.x=this.settings.pan.finalEase.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.finalEase","font-weight: bold","property. Reverted to default")):(this.settings.pan.finalEase.x=this.settings.pan.finalEase.y="easeOutCubic",this.debugging&&console.warn("Lens: No %cfinalEase","font-weight: bold","property included inside of the pSettings parameter. Reverted to default"));
a.duration?"object"===typeof a.duration&&a.duration.constructor===Object?"number"===typeof a.duration.x&&"number"===typeof a.duration.y?(this.settings.pan.duration.x=a.duration.x,this.settings.pan.duration.y=a.duration.y):(this.settings.pan.duration.x=this.settings.pan.duration.y=2E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.duration.x || pSettings.duration.y","font-weight: bold","parameter. Reverted to default")):"number"===typeof a.duration?this.settings.pan.duration.x=
this.settings.pan.duration.y=a.duration:(this.settings.pan.duration.x=this.settings.pan.duration.y=2E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.duration","font-weight: bold","property. Reverted to default")):(this.settings.pan.duration.x=this.settings.pan.duration.y=2E3,this.debugging&&console.warn("Lens: No %cduration","font-weight: bold","property included inside of the pSettings parameter. Reverted to default"));a.finalDuration?"object"===typeof a.finalDuration&&
a.finalDuration.constructor===Object?"number"===typeof a.finalDuration.x&&"number"===typeof a.finalDuration.y?(this.settings.pan.finalDuration.x=a.finalDuration.x,this.settings.pan.finalDuration.y=a.finalDuration.y):(this.settings.pan.finalDuration.x=this.settings.pan.finalDuration.y=2E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.finalDuration.x || pSettings.finalDuration.y","font-weight: bold","parameter. Reverted to default")):"number"===typeof a.finalDuration?
this.settings.pan.finalDuration.x=this.settings.pan.finalDuration.y=a.finalDuration:(this.settings.pan.finalDuration.x=this.settings.pan.finalDuration.y=2E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.finalDuration","font-weight: bold","property. Reverted to default")):(this.settings.pan.finalDuration.x=this.settings.pan.finalDuration.y=2E3,this.debugging&&console.warn("Lens: No %cfinalDuration","font-weight: bold","property included inside of the pSettings parameter. Reverted to default"));
a.pauseDuration&&("number"===typeof a.pauseDuration?this.settings.pan.pauseDuration=a.pauseDuration:(this.settings.pan.pauseDuration=0,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.pauseDuration","font-weight: bold","property. Reverted to default")));this.settings.pan.attach=a.attach;this.settings.pan.forceDirChange=a.forceDirChange;this.settings.pan.initialPos.x=this.xPos;this.settings.pan.initialPos.y=this.yPos;this.settings.pan.forceDirChange&&(VYLO.Client.toggleMacroCapture(!1),
this.settings.pan.storedDir=this.following.dir,this.following.dir=VYLO.Map.getDir(this.following,this.settings.pan.target));a.pannedCallback&&("function"===typeof a.pannedCallback?this.settings.pan.pannedCallback=a.pannedCallback:this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.pannedCallback","font-weight: bold","property."));a.finalCallback&&("function"===typeof a.finalCallback?this.settings.pan.finalCallback=a.finalCallback:this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.finalCallback",
"font-weight: bold","property."));this.xPos!==this.settings.pan.target.xPos&&(this.settings.pan.active.x=!0);this.yPos!==this.settings.pan.target.yPos&&(this.settings.pan.active.y=!0)}else console.error("Lens: No %ctarget","font-weight: bold","property included inside of the pSettings parameter. Pan failed");else console.error("Lens: Invalid variable type passed for the %cpSettings","font-weight: bold","parameter. Pan failed");this.isPanning=this.settings.panning=!0}};f.onPanned=function(){this.settings.pan.pannedCallback&&
(this.settings.pan.pannedCallback(),this.settings.pan.pannedCallback=null);this.settings.pan.attach?this.settings.pan.target&&"object"===typeof this.settings.pan.target&&(this.settings.pan.target.constructor===Diob?(VYLO.Client.toggleMacroCapture(!0),this.following=this.settings.pan.target,this.reset("pan")):this.debugging&&console.warn("Lens: Cannot attach to a non %cdiob","font-weight: bold","type. Attachment failed")):(this.settings.pan.target=this.following,this.settings.pan.initialPos.x=this.xPos,
this.settings.pan.initialPos.y=this.yPos,this.settings.pan.time.x=this.settings.pan.time.y=0,this.settings.pan.duration.x=this.settings.pan.finalDuration.x,this.settings.pan.duration.y=this.settings.pan.finalDuration.y,this.settings.pan.ease.x=this.settings.pan.finalEase.x,this.settings.pan.ease.y=this.settings.pan.finalEase.y,this.settings.pan.returning=!0)};f.onPanFinish=function(){this.settings.pan.forceDirChange&&(this.following.dir=this.settings.pan.storedDir);this.reset("pan");VYLO.Client.toggleMacroCapture(!0);
this.settings.pan.returnCallback&&(this.settings.pan.returnCallback(),this.settings.pan.returnCallback=null)};f.follow=function(a,b,c){if("pan"===a){if(this.settings[a].returning){if(this.settings[a].pauseDuration)if(this.settings[a].pauseDuration-=b,0>=this.settings[a].pauseDuration)this.settings[a].pauseDuration=0;else return;this.xPos!==this.settings.pan.target.getTrueCenterPos().x&&(this.settings.pan.active.x=!0);this.yPos!==this.settings.pan.target.getTrueCenterPos().y&&(this.settings.pan.active.y=
!0)}this.settings[a].active.x&&(this.settings[a].destination.x=this.settings[a].target.getTrueCenterPos().x);this.settings[a].active.y&&(this.settings[a].destination.y=this.settings[a].target.getTrueCenterPos().y);c=this.settings[a].target}else this.settings[a].active.x&&(this.settings[a].destination.x=this.following.getTrueCenterPos().x),this.settings[a].active.y&&(this.settings[a].destination.y=this.following.getTrueCenterPos().y),c=this.following;if(this.settings[a].active.x){this.settings[a].time.x=
Math.min(this.settings[a].time.x+b,this.settings[a].duration.x);var d=this.settings[a].destination.x-this.settings[a].initialPos.x;d=e[this.settings[a].ease.x](this.settings[a].time.x,this.settings[a].initialPos.x,d,this.settings[a].duration.x)-this.xPos;this.xPos+=d}this.settings[a].active.y&&(this.settings[a].time.y=Math.min(this.settings[a].time.y+b,this.settings[a].duration.y),b=this.settings[a].destination.y-this.settings[a].initialPos.y,b=e[this.settings[a].ease.y](this.settings[a].time.y,this.settings[a].initialPos.y,
b,this.settings[a].duration.y)-this.yPos,this.yPos+=b);this.mapName=c.mapName;this.settings[a].time.x===this.settings[a].duration.x&&(this.xPos=c.getTrueCenterPos().x,"pan"===a?this.reset("panX"):"standard"===a?this.reset("standardX"):"custom"===a&&this.reset("customX"));this.settings[a].time.y===this.settings[a].duration.y&&(this.yPos=c.getTrueCenterPos().y,"pan"===a?this.reset("panY"):"standard"===a?this.reset("standardY"):"custom"===a&&this.reset("customY"));"standard"===a&&(this.settings[a].active.x||
this.settings[a].active.y||("standard"===a?this.reset("standard"):"custom"===a&&this.reset("custom")));if("pan"===a&&!this.settings[a].active.x&&!this.settings[a].active.y)if(this.settings[a].returning)this.onPanFinish();else this.onPanned();this.oldPos.x=this.xPos;this.oldPos.y=this.yPos};f.update=function(a,b){(this.settings.zoom.active.x||this.settings.zoom.active.y)&&this.zoomUpdate(a,b);(this.settings.shake.active.x||this.settings.shake.active.y)&&this.shakeUpdate(a,b);if(this.attached&&(!this.settings.scrolling&&
(this.settings.pan.active.x||this.settings.pan.active.y||this.settings.pan.returning)&&this.follow("pan",a,b),!this.settings.scrolling&&!this.settings.panning&&this.following)){const c=this.following.getTrueCenterPos().x,d=this.following.getTrueCenterPos().y;if(this.following.isMoving||this.oldFollowingPos.x!==c||this.oldFollowingPos.y!==d)this.isMoving=!0,this.custom?(this.settings.custom.time.x=0,this.settings.custom.active.x=this.xPos!==c?!0:!1,this.settings.custom.initialPos.x=this.xPos,this.settings.custom.time.y=
0,this.settings.custom.active.y=this.yPos!==d?!0:!1,this.settings.custom.initialPos.y=this.yPos):(this.settings.standard.time.x=0,this.settings.standard.active.x=this.xPos!==c?!0:!1,this.settings.standard.initialPos.x=this.xPos,this.settings.standard.time.y=0,this.settings.standard.active.y=this.yPos!==d?!0:!1,this.settings.standard.initialPos.y=this.yPos);this.custom?(this.settings.custom.active.x||this.settings.custom.active.y)&&this.follow("custom",a,b):(this.settings.standard.active.x||this.settings.standard.active.y)&&
this.follow("standard",a,b);this.oldFollowingPos.x=c;this.oldFollowingPos.y=d}};f.zoom=function(a={x:1,y:1},b={x:1E3,y:1E3},c={x:"easeOutCirc",y:"easeOutCirc"},d){if(!this.settings.zoom.active.x&&!this.settings.zoom.active.y){if(a||0===a)if("object"!==typeof a)if("number"===typeof a)var g=a;else g=a=1,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpDestinationLevel","font-weight: bold","parameter. Reverted to default");else"number"===typeof a.x&&"number"===typeof a.y?(g=
a.x,a=a.y):(g=a=1,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpDestinationLevel.x || pDestinationLevel.y","font-weight: bold","parameter. Reverted to default"));else g=a=1,this.debugging&&console.warn("Lens: No %cpDestinationLevel","font-weight: bold","parameter passed. Reverted to default");this.settings.zoom.destinationLevel.x!==g&&(this.settings.zoom.active.x&&this.reset("zoomX"),this.settings.zoom.active.x=!0,this.settings.zoom.destinationLevel.x=g,this.settings.zoom.initialLevel.x=
VYLO.Client.mapView.scale.x,this.settings.zoom.differenceLevel.x=Math.round(10*(this.settings.zoom.destinationLevel.x-this.settings.zoom.initialLevel.x))/10);this.settings.zoom.destinationLevel.y!==a&&(this.settings.zoom.active.y&&this.reset("zoomY"),this.settings.zoom.active.y=!0,this.settings.zoom.destinationLevel.y=a,this.settings.zoom.initialLevel.y=VYLO.Client.mapView.scale.y,this.settings.zoom.differenceLevel.y=Math.round(10*(this.settings.zoom.destinationLevel.y-this.settings.zoom.initialLevel.y))/
10);b?"object"!==typeof b?"number"===typeof b?(this.settings.zoom.duration.x=b,this.settings.zoom.duration.y=b):(this.settings.zoom.duration.x=this.settings.zoom.duration.y=1E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpDuration","font-weight: bold","parameter. Reverted to default")):"object"===typeof b&&("number"===typeof b.x&&"number"===typeof b.y?this.settings.zoom.duration=b:(this.settings.zoom.duration.x=this.settings.zoom.duration.y=1E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpDuration.x || pDuration.y",
"font-weight: bold","parameter. Reverted to default"))):(this.settings.zoom.duration.x=this.settings.zoom.duration.y=1E3,this.debugging&&console.warn("Lens: No %cpDuration","font-weight: bold","parameter passed. Reverted to default"));c?"object"!==typeof c?"string"===typeof c?k.includes(c)?this.settings.zoom.ease.x=this.settings.zoom.ease.y=c:(this.settings.zoom.ease.x=this.settings.zoom.ease.y="easeOutCirc",this.debugging&&console.warn("Lens: Invalid %cpEase","font-weight: bold","name passed. Reverted to default")):
(this.settings.zoom.ease.x=this.settings.zoom.ease.y="easeOutCirc",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpEase","font-weight: bold","parameter. Reverted to default")):"object"===typeof c&&("string"===typeof c.x&&"string"===typeof c.y?k.includes(c.x)&&k.includes(c.y)?this.settings.zoom.ease=c:(this.settings.zoom.ease.x=this.settings.zoom.ease.y="easeOutCirc",this.debugging&&console.warn("Lens: Invalid %cpEase","font-weight: bold","name passed for pEase.x || pEase.y. Reverted to default")):
(this.settings.zoom.ease.x=this.settings.zoom.ease.y="easeOutCirc",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpEase.x || pEase.y","font-weight: bold","parameter. Reverted to default"))):(this.settings.zoom.ease.x=this.settings.zoom.ease.y="easeOutCirc",this.debugging&&console.warn("Lens: No %cpEase","font-weight: bold","parameter passed. Reverted to default"));d&&("function"===typeof d?this.settings.zoom.callback=d:this.debugging&&console.warn("Lens: Invalid variable type passed for the %pCallback",
"font-weight: bold","property."));this.isZooming=this.settings.zooming=!0}};f.onZoomEnd=function(){this.settings.zoom.callback&&this.settings.zoom.callback();VYLO.Client.mapView.scale.x=Math.round(10*this.settings.zoom.destinationLevel.x)/10;VYLO.Client.mapView.scale.y=Math.round(10*this.settings.zoom.destinationLevel.y)/10;VYLO.Client.setMapView(VYLO.Client.mapView);this.reset("zoom")};f.setSettings=function(a){a?"object"===typeof a&&a.constructor===Object?(a.duration?"object"===typeof a.duration&&
a.duration.constructor===Object?"number"===typeof a.duration.x&&"number"===typeof a.duration.y?(this.settings.custom.duration.x=a.duration.x,this.settings.custom.duration.y=a.duration.y):(this.settings.custom.duration.x=this.settings.custom.duration.y=1E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.duration.x || pSettings.duration.y","font-weight: bold","property. Reverted to default")):typeof("number"===a.duration)?this.settings.custom.duration.x=this.settings.custom.duration.y=
a.duration:(this.settings.custom.duration.x=this.settings.custom.duration.y=1E3,this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.duration","font-weight: bold","property. Reverted to default")):(this.settings.custom.duration.x=this.settings.custom.duration.y=1E3,this.debugging&&console.warn("Lens: No %cpSettings.duration","font-weight: bold","parameter passed. Reverted to default")),a.ease?"object"===typeof a.ease&&a.ease.constructor===Object?"string"===typeof a.ease.x&&
"string"===typeof a.ease.y?k.includes(a.ease.x)&&k.includes(a.ease.y)?(this.settings.custom.ease.x=a.ease.x,this.settings.custom.ease.y=a.ease.y):(this.settings.custom.ease.x=this.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid %cease","font-weight: bold","name passed for pSettings.ease.x || pSettings.ease.y. Reverted to default")):(this.settings.custom.ease.x=this.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.ease.x || pSettings.ease.y",
"font-weight: bold","property. Reverted to default")):typeof("string"===a.ease)?k.includes(a.ease)?this.settings.custom.ease.x=this.settings.custom.ease.y=a.ease:(this.settings.custom.ease.x=this.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid %cease","font-weight: bold","name passed for pSettings.ease. Reverted to default")):(this.settings.custom.ease.x=this.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings.ease",
"font-weight: bold","property. Reverted to default")):(this.settings.custom.ease.x=this.settings.custom.ease.y="easeOutCubic",this.debugging&&console.warn("Lens: No %cpSettings.ease","font-weight: bold","parameter passed. Reverted to default")),this.reset("standard"),this.custom=!0,this.settings.custom.initialPos.x=this.xPos,this.settings.custom.initialPos.y=this.yPos):(this.reset("custom"),this.custom=!1,this.settings.standard.initialPos.x=this.xPos,this.settings.standard.initialPos.y=this.yPos,
this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpSettings","font-weight: bold","parameter. Reverted to default")):(this.reset("custom"),this.custom=!1,this.settings.standard.initialPos.x=this.xPos,this.settings.standard.initialPos.y=this.yPos,this.debugging&&console.warn("Lens: No %cpSettings","font-weight: bold","parameter passed. Reverted to default"))};f.spectate=function(a){if(this.settings.panning)console.error("Lens: Cannot spectate camera is currently %cpanning",
"font-weight: bold",". Spectate failed");else if(a)if("object"===typeof a&&a.constructor===Object){if("object"===typeof a.target)if("number"===typeof a.target.xPos&&"number"===typeof a.target.yPos&&"string"===typeof a.target.mapName)this.assignIconSize(a.target),this.settings.spectate.preventMovement=!1,this.settings.spectate.forcePos=!1,VYLO.Client.___EVITCA_aBlip&&VYLO.Client.aBlip.destroyAllBlips(),a.preventMovement&&(this.settings.spectate.preventMovement=a.preventMovement,VYLO.Client.toggleMacroCapture(!1)),
a.forcePos?(this.settings.spectate.forcePos=a.forcePos,this.setPos(a.target.getTrueCenterPos().x,a.target.getTrueCenterPos().y,a.target.mapName)):1E3<VYLO.Map.getDist(this.following,a.target)&&(this.settings.spectate.forcePos=!0,this.setPos(a.target.getTrueCenterPos().x,a.target.getTrueCenterPos().y,a.target.mapName)),this.settings.spectate.player||(this.settings.spectate.player=this.following),this.following=a.target;else{console.error("Lens: Invalid variable type passed for the %cpSettings.target.xPos || pSettings.target.yPos || pSettings.target.mapName",
"font-weight: bold","property. Spectate failed");return}this.isSpectating=this.settings.spectating=!0}else console.error("Lens: Invalid variable type passed for the %cpSettings","font-weight: bold","parameter. Spectate failed");else console.error("Lens: No %cpSettings","font-weight: bold","parameter passed. Spectate failed")};f.cancelSpectate=function(){this.settings.spectate.forcePos&&this.setPos(this.settings.spectate.player.getTrueCenterPos().x,this.settings.spectate.player.getTrueCenterPos().y,
this.settings.spectate.player.mapName);this.following=this.settings.spectate.player;this.settings.spectate.preventMovement&&VYLO.Client.toggleMacroCapture(!0);if("function"===typeof VYLO.Client.onSpectateEnd)VYLO.Client.onSpectateEnd();this.reset("spectate")};f.detach=function(){this.attached?(this.reset("spectate"),this.following=VYLO.Client.mob,this.setSettings(),this.attached=!1,this.setLoc(),VYLO.Client.setViewEye(this.following)):console.error("Lens: Lens is already %cdetached!","font-weight: bold")};
f.attach=function(a){"object"===typeof a&&a.constructor!==Diob?console.error("Lens: Nothing to %cattach","font-weight: bold","to. Attachment failed"):(this.attached&&console.warn("Lens: Lens is already %cattached!","font-weight: bold"),this.assignIconSize(a),this.following=a,this.oldPos.x=this.following.xPos,this.oldPos.y=this.following.yPos,this.setPos(this.following.getTrueCenterPos().x,this.following.getTrueCenterPos().y,this.following.mapName),this.attached=!0,VYLO.Client.setViewEye(this))};f.shake=
function(a,b,c=!1,d){var g=1,h=1,l=1E3,n=1E3;a?"object"===typeof a&&a.constructor===Object?(a.x||0===a.x?"number"===typeof a.x?g=Math.clamp(a.x,0,100):this.debugging&&console.warn("Lens: Invalid variable type for %cpIntensity.x","font-weight: bold","property. Reverted to default"):this.debugging&&console.warn("Lens: No %cpIntensity.x","font-weight: bold","property value passed. Reverted to default"),a.y||0===a.y?"number"===typeof a.y?h=Math.clamp(a.y,0,100):this.debugging&&console.warn("Lens: Invalid variable type for %cpIntensity.y",
"font-weight: bold","property. Reverted to default"):this.debugging&&console.warn("Lens: No %cpIntensity.y","font-weight: bold","property value passed. Reverted to default")):"number"===typeof a?g=h=Math.clamp(a,0,100):this.debugging&&console.warn("Lens: Invalid variable type for %cpIntensity","font-weight: bold","parameter passed. Reverted to default"):this.debugging&&console.warn("Lens: No %cpIntensity","font-weight: bold","parameter passed. Reverted to default");b?"object"===typeof b&&b.constructor===
Object?(b.x||0===b.x?"number"===typeof b.x?l=b.x:this.debugging&&console.warn("Lens: Invalid variable type for %cpDuration.x","font-weight: bold","property. Reverted to default"):this.debugging&&console.warn("Lens: No %cpDuration.x","font-weight: bold","property value passed. Reverted to default"),b.y||0===b.y?"number"===typeof b.y?n=b.y:this.debugging&&console.warn("Lens: Invalid variable type for %cpDuration.y","font-weight: bold","property. Reverted to default"):this.debugging&&console.warn("Lens: No %cpDuration.y",
"font-weight: bold","property value passed. Reverted to default")):"number"===typeof b?l=n=b:this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpDuration.x || pDuration.y","font-weight: bold","property. Reverted to default"):this.debugging&&console.warn("Lens: No %cpDuration ","font-weight: bold","parameter passed. Reverted to default");c&&(this.settings.shake.rotational=!0);d&&("function"===typeof d?this.settings.shake.callback=d:this.debugging&&console.warn("Lens: Invalid variable type passed for the %cpCallback",
"font-weight: bold","property."));g&&l&&(this.settings.shake.intensity.x=g,this.settings.shake.duration.x=l,this.settings.shake.active.x=!0);h&&n&&(this.settings.shake.intensity.y=h,this.settings.shake.duration.y=n,this.settings.shake.active.y=!0);this.isShaking=!0};f.onShakeEnd=function(){this.settings.shake.callback&&(this.settings.shake.callback(),VYLO.Client.setViewEyeOffsets(0,0));this.reset("shake")};f.toggleDebug=function(){this.invisibility=(this.debugging=this.debugging?!1:!0)?0:999999};
f.destroy=function(){this.attached=this.init=!1;this.reset("spectate");this.setSettings();this.setLoc();VYLO.Client.setViewEye(VYLO.Client.mob)};r(f)}})();